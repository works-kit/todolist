# ===============================
# APPLICATION
# ===============================
spring.application.name=todolist
server.servlet.context-path=/api
server.port=8081
spring.profiles.active=dev

# ===============================
# JPA COMMON
# ===============================
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy

# ===============================
# REDIS COMMON
# ===============================
spring.data.redis.timeout=2000
spring.data.redis.connect-timeout=1000

# ===============================
# ACTUATOR
# ===============================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=never

# ===============================
# RESILIENCE4J DEFAULT
# ===============================
resilience4j.circuitbreaker.instances.default.register-health-indicator=true
resilience4j.circuitbreaker.instances.default.sliding-window-size=10
resilience4j.circuitbreaker.instances.default.failure-rate-threshold=50

# ===============================
# LOGGING
# ===============================
logging.level.root=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ===============================
# MESSAGES
# ===============================
spring.messages.basename=messages
spring.messages.encoding=UTF-8
spring.messages.fallback-to-system-locale=true

# ===============================
# JWT
# Nilai aktual didefinisikan per profile (dev/prod/test)
# JANGAN hardcode secret di sini — file ini masuk version control
# ===============================
app.jwt.access-token-expiration=900000
app.jwt.refresh-token-expiration=604800000

# ===============================
# RATE LIMITER (Caffeine In-Memory)
# Default — bisa di-override per profile
# ===============================
app.rate-limiter.capacity=60
app.rate-limiter.refill-duration-seconds=60
app.rate-limiter.auth.capacity=10
app.rate-limiter.auth.refill-duration-seconds=60

# ===============================
# SECURITY HEADERS
# Default — bisa di-override per profile
# ===============================
app.security.headers.hsts-enabled=false
app.security.headers.csp=default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; frame-ancestors 'none'; form-action 'self'